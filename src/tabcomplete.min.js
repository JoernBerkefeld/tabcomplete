!function(t){function e(e,n,i){return t.grep(n,function(t){return i?!t.indexOf(e):!t.toLowerCase().indexOf(e.toLowerCase())})}function n(e){var n=this,i=n.prev(".hint");n.css({backgroundColor:"transparent",position:"relative"}),i.length||(n.options.wrapInput&&n.wrap(t("<div>").css({position:"relative",height:n.css("height"),display:n.css("display")})),i=n.clone().attr("tabindex",-1).removeAttr("id name placeholder").addClass("hint").insertBefore(n),i.css({position:"absolute"}));var a="";if("undefined"!=typeof e){var s=n.val();a=s+e.substr(s.split(/ |\n/).pop().length)}i.val(a)}function i(t){var e=this,n=e.val();t&&(e.val(n+t.substr(n.split(/ |\n/).pop().length)),e[0].selectionStart=n.length)}var a={backspace:8,tab:9,up:38,down:40};t.tabcomplete={version:"1.5.1",defaultOptions:{after:"",arrowKeys:!1,hint:"placeholder",match:e,caseSensitive:!1,minLength:1,wrapInput:!0}},t.fn.tab=t.fn.tabcomplete=function(e,s){if(this.length>1)return this.each(function(){t(this).tabcomplete(e,s)});if(this.options)return this.options=s=t.extend(t.tabcomplete.defaultOptions,s),void(this.words=e);var r=this.prop("tagName");if("INPUT"==r||"TEXTAREA"==r){this.options=s=t.extend(t.tabcomplete.defaultOptions,s),this.unbind(".tabcomplete"),this.prev(".hint").remove();var o=this,l=!1,h=-1,p=[],c="",u=t.noop;switch(s.hint){case"placeholder":u=n;break;case"select":u=i}return this.on("input.tabcomplete",function(){var n=o.val(),i=n.split(/ |\n/).pop();h=-1,c="",p=[],o[0].selectionStart==n.length&&i.length&&(p=s.match(i,e,s.caseSensitive),s.after&&(p=t.map(p,function(t){return t+s.after}))),o.trigger("match",p.length),s.hint&&(("select"!=s.hint||!l)&&i.length>=s.minLength?u.call(o,p[0]):u.call(o,"")),l&&(l=!1)}),this.on("keydown.tabcomplete",function(t){var e=t.which;if(e==a.tab||s.arrowKeys&&(e==a.up||e==a.down)){if(t.preventDefault(),e!=a.up)h++;else{if(-1==h)return;0==h?h=p.length-1:h--}var n=p[h%p.length];if(!n)return;var i=o.val();if(c=c||i.split(/ |\n/).pop(),c.length<s.minLength)return;var r="select"==s.hint?i:i.substr(0,o[0].selectionStart-c.length)+n;o.val(r),"select"==s.hint&&(o[0].selectionStart=r.length),c=n,o.trigger("tabcomplete",c),s.hint&&u.call(o,"")}else t.which==a.backspace&&(l=!0,h=-1,c="")}),s.hint&&u.call(this,""),this}}}(jQuery);